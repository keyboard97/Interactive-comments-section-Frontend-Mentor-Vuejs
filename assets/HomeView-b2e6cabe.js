import{r as w,c as R,d as I,o as a,a as l,t as $,n as G,_ as U,b as t,u as i,e as g,w as K,v as Q,i as X,f as F,g as h,h as y,p as E,j,F as k,k as Z,T as ee,l as te,m as ne,q as W}from"./index-e950a3d4.js";const D=()=>{const n=w(window.innerHeight),e=w(window.innerWidth>1920?1920:window.innerWidth),o=()=>e.value=window.innerWidth>1920?1920:window.innerWidth,c=R(()=>e.value>900?`${Math.round(e.value*.32)}px`:`${Math.round(e.value*.8)}px`),d=R(()=>e.value>900?`${e.value-Math.round(e.value*.32)-80}px`:`${Math.round(e.value*.8)}px`),_=R(()=>!(e.value>600));return window.addEventListener("resize",o),{isMobile:_,deviceHeight:n,deviceWidth:e,computedUploadLeftContainerWidth:c,computedUploadRightContainerWidth:d}},A=n=>new URL(n,import.meta.url).href,oe=I({__name:"ButtonComponent",props:{text:null,backgroundColor:null},emits:["click"],setup(n,{emit:e}){const o=n;return(c,d)=>(a(),l("button",{onClick:d[0]||(d[0]=_=>e("click")),style:G({backgroundColor:o.backgroundColor})},$(n.text.toUpperCase()),5))}});const S=U(oe,[["__scopeId","data-v-0e421423"]]),se=["src"],re={key:2,class:"row"},ae=["src"],ie=I({__name:"AddCommentComponent",props:{avatar:null,buttonText:null,commentId:null,replyingTo:null,editingComment:null,isEditing:{type:Boolean}},emits:["send-comment"],setup(n,{emit:e}){const o=n,{isMobile:c}=D(),d=w(o.isEditing?o.editingComment:o.replyingTo?"@"+o.replyingTo+" ":""),_=()=>{e("send-comment",o.commentId,d.value.replace("@"+o.replyingTo,""))};return(C,r)=>(a(),l("div",{class:y(["parent-container",i(c)?"mobile":""])},[t("div",{class:y(["container",i(c)?"mobile":""])},[i(c)?g("",!0):(a(),l("img",{key:0,src:i(A)(o.avatar)},null,8,se)),K(t("textarea",{placeholder:"Add a comment...","onUpdate:modelValue":r[0]||(r[0]=s=>X(d)?d.value=s:null)},null,512),[[Q,i(d)]]),i(c)?g("",!0):(a(),F(S,{key:1,text:o.buttonText?o.buttonText:"Send","background-color":"#5358b4",onClick:r[1]||(r[1]=s=>e("send-comment",o.commentId,i(d).replace("@"+o.replyingTo,"")))},null,8,["text"])),i(c)?(a(),l("div",re,[t("img",{src:i(A)(o.avatar)},null,8,ae),h(S,{text:o.buttonText?o.buttonText:"Send","background-color":"#5358b4",onClick:_},null,8,["text"])])):g("",!0)],2)],2))}});const H=U(ie,[["__scopeId","data-v-badcd1ba"]]),z="/Interactive-comments-section-Frontend-Mentor-Vuejs/assets/icon-delete-a955972c.svg",Y="/Interactive-comments-section-Frontend-Mentor-Vuejs/assets/icon-edit-be86deeb.svg",q="/Interactive-comments-section-Frontend-Mentor-Vuejs/assets/icon-reply-b32cf4fa.svg",ce="/Interactive-comments-section-Frontend-Mentor-Vuejs/assets/icon-plus-e731c8fe.svg",le="/Interactive-comments-section-Frontend-Mentor-Vuejs/assets/icon-minus-cb46e373.svg",J=n=>(E("data-v-f16d9630"),n=n(),j(),n),me=J(()=>t("img",{src:ce},null,-1)),de=[me],ue=J(()=>t("img",{src:le},null,-1)),pe=[ue],_e=I({__name:"ButtonScoreComponent",props:{score:null},emits:["increase-score","decrease-score"],setup(n,{emit:e}){const o=n,{isMobile:c}=D();return(d,_)=>(a(),l("div",{class:y(["score-container",i(c)?"mobile":""])},[t("button",{onClick:_[0]||(_[0]=C=>e("increase-score"))},de),t("p",null,[t("b",null,$(o.score),1)]),t("button",{onClick:_[1]||(_[1]=C=>e("decrease-score"))},pe)],2))}});const ve=U(_e,[["__scopeId","data-v-f16d9630"]]),ge={image:{png:"../assets/resources/images/avatars/image-juliusomo.png",webp:"../assets/resources/images/avatars/image-juliusomo.webp"},username:"juliusomo"},be=[{id:1,content:"Impressive! Though it seems the drag feature could be improved. But overall it looks incredible. You've nailed the design and the responsiveness at various breakpoints works really well.",createdAt:"1 month ago",score:12,user:{image:{png:"../assets/resources/images/avatars/image-amyrobson.png",webp:"../assets/resources/images/avatars/image-amyrobson.webp"},username:"amyrobson"},replies:[]},{id:2,content:"Woah, your project looks awesome! How long have you been coding for? I'm still new, but think I want to dive into React as well soon. Perhaps you can give me an insight on where I can learn React? Thanks!",createdAt:"2 weeks ago",score:5,user:{image:{png:"../assets/resources/images/avatars/image-maxblagun.png",webp:"../assets/resources/images/avatars/image-maxblagun.webp"},username:"maxblagun"},replies:[{id:3,content:"If you're still new, I'd recommend focusing on the fundamentals of HTML, CSS, and JS before considering React. It's very tempting to jump ahead but lay a solid foundation first.",createdAt:"1 week ago",score:4,replyingTo:"maxblagun",user:{image:{png:"../assets/resources/images/avatars/image-ramsesmiron.png",webp:"../assets/resources/images/avatars/image-ramsesmiron.webp"},username:"ramsesmiron"}},{id:4,content:"I couldn't agree more with this. Everything moves so fast and it always seems like everyone knows the newest library/framework. But the fundamentals are what stay constant.",createdAt:"2 days ago",score:2,replyingTo:"ramsesmiron",user:{image:{png:"../assets/resources/images/avatars/image-juliusomo.png",webp:"../assets/resources/images/avatars/image-juliusomo.webp"},username:"juliusomo"}}]}],he={currentUser:ge,comments:be},O=()=>{const n=w(he),e=n.value.currentUser;return{comments:n,addNewComment:(r=0,s)=>{const u={id:n.value.comments.length+1,content:s,createdAt:"now",score:0,user:n.value.currentUser,replies:[]};n.value.comments.unshift(u)},doEditComment:(r,s,u)=>{var p=null;s!=0?p=n.value.comments.find(m=>m.id==r).replies.find(m=>m.id==s):p=n.value.comments.find(m=>m.id==r),p&&(s!=0?p=n.value.comments.find(m=>m.id==r).replies.find(m=>m.id==s).content=u:p=n.value.comments.find(m=>m.id==r).content=u)},doDeleteComment:r=>{const s=n.value.comments.filter(u=>u.id!=r);n.value.comments=s},addReply:(r,s,u)=>{var x;const p=n.value.comments.find(T=>T.id==r);if(!p)return;const m={id:p.replies.length,content:s,createdAt:"now",score:0,user:n.value.currentUser,replyingTo:u};(x=n.value.comments.find(T=>T.id==r))==null||x.replies.push(m)},currentUser:e,doDeleteReply:(r,s)=>{const u=n.value.comments.findIndex(m=>m.id==r);if(!u)return;const p=n.value.comments.at(u).replies.filter(m=>m.id!=s);n.value.comments.at(u).replies=p}}},B=n=>(E("data-v-d2290645"),n=n(),j(),n),ye=B(()=>t("div",{class:"background"},null,-1)),Ce={class:"modal-parent-container"},fe={class:"modal-container"},we=B(()=>t("h3",null,"Delete comment",-1)),ke=B(()=>t("p",null,"Are you sure you want to delete this comment? This will remove the component and can't be undone",-1)),xe={class:"row"},$e=I({__name:"DeleteModalComponent",emits:["close-modal","accept-modal"],setup(n,{emit:e}){return(o,c)=>(a(),l(k,null,[ye,t("div",Ce,[t("div",fe,[we,ke,t("div",xe,[h(S,{onClick:c[0]||(c[0]=d=>e("close-modal")),text:"NO, CANCEL","background-color":"#68727e"}),h(S,{onClick:c[1]||(c[1]=d=>e("accept-modal")),text:"YES, DELETE","background-color":"#ee6368"})])])])],64))}});const Ie=U($e,[["__scopeId","data-v-d2290645"]]),b=n=>(E("data-v-6768bac9"),n=n(),j(),n),Te={key:0,class:"modal",role:"dialog"},Ue={key:0,class:"options-container"},Me=b(()=>t("img",{src:z},null,-1)),Se=b(()=>t("b",null,"Delete",-1)),De=[Me,Se],Re=b(()=>t("img",{src:Y},null,-1)),Ae=b(()=>t("b",null,"Edit",-1)),Ee=[Re,Ae],je={key:1,class:"reply-button-container"},Be=b(()=>t("img",{src:q},null,-1)),Ve=b(()=>t("b",null,"Reply",-1)),Ne=[Be,Ve],We={class:"content"},Le={class:"info-card"},Fe={class:"user-info-comment"},He=["src"],ze={class:"username"},Ye={class:"created"},qe={key:0,class:"options-container"},Je=b(()=>t("img",{src:z},null,-1)),Oe=b(()=>t("b",null,"Delete",-1)),Pe=[Je,Oe],Ge=b(()=>t("img",{src:Y},null,-1)),Ke=b(()=>t("b",null,"Edit",-1)),Qe=[Ge,Ke],Xe={key:1,class:"reply-button-container"},Ze=b(()=>t("img",{src:q},null,-1)),et=b(()=>t("b",null,"Reply",-1)),tt=[Ze,et],nt={class:"comment"},ot={key:0},st={key:1,class:"add-comment-container"},rt=I({__name:"CommentCardComponent",props:{comment:null,currentUser:null,replyingTo:null,idReply:null,idComment:null},setup(n){const e=n,{isMobile:o}=D(),{currentUser:c,addReply:d,doEditComment:_,doDeleteComment:C,doDeleteReply:r}=O(),s=w(!1),u=w(!1),p=w(!1),m=(M,v,f)=>{s.value=!1,d(M,v,f)},x=()=>{p.value=!p.value,s.value=!s.value},T=(M,v)=>{const f=e.idReply?e.idReply:0,N=e.idComment?e.idComment:M;p.value?(_(N,f,v),x()):(s.value=!s.value,m(N,v,e.comment.user.username))},V=()=>{u.value=!0},P=()=>(e.idReply==null?C(e.idComment):r(e.idComment,e.idReply),u.value=!1);return(M,v)=>(a(),l(k,null,[h(ee,{name:"pop",appear:""},{default:Z(()=>[(a(),F(ne,{to:"#app"},[u.value?(a(),l("div",Te,[h(Ie,{onCloseModal:v[0]||(v[0]=f=>u.value=!1),onAcceptModal:P})])):g("",!0)]))]),_:1}),p.value?g("",!0):(a(),l("div",{key:0,class:y(["parent-container",i(o)?"mobile":""])},[t("div",{class:y(["container",i(o)?"mobile":""])},[t("div",{class:y(["options",i(o)?"mobile":""])},[h(ve,{score:e.comment.score,onIncreaseScore:v[1]||(v[1]=f=>e.comment.score++),onDecreaseScore:v[2]||(v[2]=f=>e.comment.score--)},null,8,["score"]),i(o)?(a(),l("div",Ue,[e.comment.user.username==e.currentUser?(a(),l(k,{key:0},[t("div",{class:"delete-button-container"},[t("button",{onClick:V},De)]),t("div",{class:"reply-button-container"},[t("button",{onClick:x},Ee)])],64)):g("",!0),e.comment.user.username!=e.currentUser?(a(),l("div",je,[t("button",{onClick:v[3]||(v[3]=f=>s.value=!s.value)},Ne)])):g("",!0)])):g("",!0)],2),t("div",We,[t("div",Le,[t("div",Fe,[t("div",null,[t("img",{src:i(A)(e.comment.user.image.webp)},null,8,He),t("b",ze,$(e.comment.user.username),1),t("p",Ye,$(e.comment.createdAt),1)]),i(o)?g("",!0):(a(),l("div",qe,[e.comment.user.username==e.currentUser?(a(),l(k,{key:0},[t("div",{class:"delete-button-container"},[t("button",{onClick:V},Pe)]),t("div",{class:"reply-button-container"},[t("button",{onClick:x},Qe)])],64)):g("",!0),e.comment.user.username!=e.currentUser?(a(),l("div",Xe,[t("button",{onClick:v[4]||(v[4]=f=>s.value=!s.value)},tt)])):g("",!0)]))])]),t("div",nt,[t("p",null,[e.replyingTo?(a(),l("span",ot,[t("b",null,$("@"+e.replyingTo),1)])):g("",!0),te(" "+$(e.comment.content),1)])])])],2)],2)),s.value?(a(),l("div",st,[h(H,{"button-text":p.value?"Update":"Reply","comment-id":e.comment.id,"replying-to":n.comment.user.username,avatar:i(c).image.webp,"is-editing":p.value,"editing-comment":e.comment.content,onSendComment:T},null,8,["button-text","comment-id","replying-to","avatar","is-editing","editing-comment"])])):g("",!0)],64))}});const L=U(rt,[["__scopeId","data-v-6768bac9"]]),at={class:"row"},ct=I({__name:"HomeView",setup(n){const{comments:e,addNewComment:o}=O(),{isMobile:c}=D(),d=(_=0,C)=>{o(_,C)};return(_,C)=>(a(),l("div",{class:y(["home-parent-container",i(c)?"mobile":""])},[(a(!0),l(k,null,W(i(e).comments,r=>(a(),l(k,null,[h(L,{comment:r,"current-user":i(e).currentUser.username,"id-comment":r.id},null,8,["comment","current-user","id-comment"]),r.replies.length>0?(a(!0),l(k,{key:0},W(r.replies,s=>(a(),l("div",{class:y(["replies-container",i(c)?"mobile":""])},[t("div",at,[t("div",{class:y(["vertical-line",i(c)?"mobile":""])},null,2),t("div",null,[h(L,{comment:s,"id-comment":r.id,"id-reply":s.id,"replying-to":s.replyingTo,"current-user":i(e).currentUser.username},null,8,["comment","id-comment","id-reply","replying-to","current-user"])])])],2))),256)):g("",!0)],64))),256)),h(H,{avatar:i(e).currentUser.image.webp,onSendComment:d},null,8,["avatar"])],2))}});export{ct as default};
